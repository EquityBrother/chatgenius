@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
  .thread-transition {
    @apply transition-all duration-300 ease-in-out;
  }
  
  .message-bubble {
    @apply relative max-w-[70%] rounded-lg p-3;
  }

  .message-bubble-sent {
    @apply bg-blue-500 text-white;
  }

  .message-bubble-received {
    @apply bg-gray-100 text-gray-900;
  }

  .reaction-button {
    @apply flex items-center space-x-1 text-sm px-2 py-1 rounded-full transition-colors duration-150;
  }

  .reaction-button-active {
    @apply bg-blue-100 hover:bg-blue-200;
  }

  .reaction-button-inactive {
    @apply bg-gray-100 hover:bg-gray-200;
  }

  .emoji-picker {
    @apply absolute bottom-full mb-2 bg-white rounded-lg shadow-lg border p-2 flex gap-1 z-50;
  }

  .emoji-button {
    @apply hover:bg-gray-100 p-1 rounded transition-colors duration-150;
  }

  .thread-panel {
    @apply h-full flex flex-col bg-white;
  }

  .thread-header {
    @apply p-4 border-b flex justify-between items-center;
  }

  .thread-content {
    @apply flex-1 overflow-y-auto p-4 space-y-4;
  }

  .thread-input {
    @apply p-4 border-t;
  }

  .message-actions {
    @apply mt-1 flex items-center space-x-2;
  }

  .thread-reply-button {
    @apply text-sm hover:underline text-gray-600;
  }

  .thread-close-button {
    @apply text-gray-500 hover:text-gray-700 transition-colors duration-150;
  }

  .user-avatar {
    @apply w-8 h-8 rounded-full object-cover;
  }

  .user-avatar-small {
    @apply w-6 h-6 rounded-full object-cover;
  }

  /* Scrollbar Styling */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400;
  }

  /* Mobile Optimizations */
  @screen sm {
    .message-bubble {
      @apply max-w-[85%];
    }
  }

  @screen md {
    .message-bubble {
      @apply max-w-[70%];
    }
  }

  /* Animations */
  .fade-enter {
    @apply opacity-0;
  }

  .fade-enter-active {
    @apply opacity-100 transition-opacity duration-300;
  }

  .fade-exit {
    @apply opacity-100;
  }

  .fade-exit-active {
    @apply opacity-0 transition-opacity duration-300;
  }

  /* Thread Panel Slide Animation */
  .thread-panel-enter {
    @apply transform translate-x-full;
  }

  .thread-panel-enter-active {
    @apply transform translate-x-0 transition-transform duration-300 ease-in-out;
  }

  .thread-panel-exit {
    @apply transform translate-x-0;
  }

  .thread-panel-exit-active {
    @apply transform translate-x-full transition-transform duration-300 ease-in-out;
  }
}

/* Custom Styles for Thread Indicators */
.thread-count {
  @apply inline-flex items-center text-xs text-gray-500 hover:text-gray-700;
}

.thread-count-active {
  @apply text-blue-500 hover:text-blue-700;
}

/* Message Time Stamps */
.message-timestamp {
  @apply text-xs opacity-70 mt-1;
}

/* Online Status Indicator */
.online-indicator {
  @apply w-2 h-2 rounded-full bg-green-500;
}

/* Message Input */
.message-input {
  @apply flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
}

/* Send Button */
.send-button {
  @apply bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded disabled:opacity-50 transition-colors duration-150;
}